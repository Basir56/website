#admin-test-runner
  =breadcrumb_nav do
    %li= link_to "Admin", admin_dashboard_path
    %li= link_to "Test runners", admin_test_runners_path
    %li= link_to @test_runner.language_slug, admin_test_runner_path(@test_runner)

  .lo-container
    %h1 Test Runner (#{@test_runner.language_slug}): #{@version.slug}

    .field
      %span Slug:
      %span= @version.slug

    .field
      %span Status:
      %span= @version.status.titleize

    -if @version.deployed?

      %h2 Test your solution
      =form_with url: test_admin_test_runner_version_path, data: {remote: false}, method: :patch do
        =text_field_tag :solution_uuid, @test_results[:solution_uuid], placeholder: "Solution UUID"
        =button_tag "Test solution", class: 'pure-button'

    %h2 Options

    -if @version.built?
      =link_to "Deploy", deploy_admin_test_runner_version_path(@test_runner, @version), method: :patch, class: 'pure-button'

    -if @version.tested?
      =link_to "Promote to Live", promote_admin_test_runner_version_path(@test_runner, @version), method: :patch, class: 'pure-button', data: {confirm: "Are you sure you want to promote this to live?"}

    -unless @version.live? || @version.retired?
      =link_to "Retire", retire_admin_test_runner_version_path(@test_runner, @version), method: :patch, class: 'pure-button', data: {confirm: "Are you sure you want to retire?"}

